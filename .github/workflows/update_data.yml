name: Rassim DZ Auto-Bot

on:
  schedule:
    - cron: '0 * * * *' # ØªØ´ØºÙŠÙ„ Ø§Ù„Ø±ÙˆØ¨ÙˆØª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙƒÙ„ Ø±Ø£Ø³ Ø³Ø§Ø¹Ø©
  workflow_dispatch: # Ù„Ù„Ø³Ù…Ø§Ø­ Ù„Ùƒ Ø¨ØªØ´ØºÙŠÙ„Ù‡ ÙŠØ¯ÙˆÙŠØ§Ù‹ ÙˆÙ‚ØªÙ…Ø§ ØªØ´Ø§Ø¡

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.9'

      - name: Install dependencies
        run: |
          pip install pandas requests beautifulsoup4

      - name: Run Scraper
        run: python myscraper.py

      - name: Commit and Push changes
        run: |
          git config --global user.name "Rassim Bot"
          git config --global user.email "bot@rassimdz.com"
          git add users_database.csv
          git commit -m "ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø¹Ø±ÙˆØ¶ Ù…Ù† 59 ÙˆÙ„Ø§ÙŠØ© ðŸš€" || exit 0
          git push
